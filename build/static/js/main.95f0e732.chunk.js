(this.webpackJsonptestprojectapp=this.webpackJsonptestprojectapp||[]).push([[0],{379:function(e,n,t){"use strict";t.r(n);var r=t(3),a=t(0),c=t.n(a),i=t(37),s=t.n(i),o=(t(125),t(38)),u=t(383),d=t(28),j=t(11),l=t(12),b=t.n(l),x=t(31),h=t(26),p=t(386),f=t(384),O=t(385),m=t(381),g=t(32),v=t.n(g);function w(){var e=Object(a.useRef)(),n=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),i=Object(a.useState)(""),s=Object(h.a)(i,2),o=s[0],u=s[1],l=Object(a.useState)(!1),g=Object(h.a)(l,2),w=g[0],y=g[1],k=Object(j.f)();function N(){return(N=Object(x.a)(b.a.mark((function r(a){var i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),n.current.value===t.current.value){r.next=3;break}return r.abrupt("return",u("Password do not match"));case 3:return i={username:e.current.value,password:n.current.value,nickname:c.current.value},r.prev=4,u(""),y(!0),r.next=9,v.a.post("".concat("","/api/users/create"),{user:i}).then((function(e){var n=e.data;if(null!==n){var t={username:n.user.username,password:n.user.password};k.push({pathname:"/homepage",state:{detail:t}})}else u("Failed to create an account")}));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(4),u("Failed to create an account");case 14:y(!1);case 15:case"end":return r.stop()}}),r,null,[[4,11]])})))).apply(this,arguments)}return Object(r.jsxs)("div",{className:"w-100 ",style:{maxWidth:"400px"},children:[Object(r.jsx)(p.a,{style:{background:"#fff5ee"},children:Object(r.jsxs)(p.a.Body,{children:[Object(r.jsx)("h2",{className:"text-center md-4",children:"Sign Up"}),o&&Object(r.jsx)(f.a,{variant:"danger",children:o}),Object(r.jsxs)(O.a,{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(r.jsxs)(O.a.Group,{id:"username",children:[Object(r.jsx)(O.a.Label,{children:"User Name"}),Object(r.jsx)(O.a.Control,{type:"text",ref:e,required:!0})]}),Object(r.jsxs)(O.a.Group,{id:"password",children:[Object(r.jsx)(O.a.Label,{children:"Password"}),Object(r.jsx)(O.a.Control,{type:"password",ref:n,required:!0})]}),Object(r.jsxs)(O.a.Group,{id:"password-confirm",children:[Object(r.jsx)(O.a.Label,{children:"Password Confirmation"}),Object(r.jsx)(O.a.Control,{type:"password",ref:t,required:!0})]}),Object(r.jsxs)(O.a.Group,{id:"nickname",children:[Object(r.jsx)(O.a.Label,{children:"Nick Name"}),Object(r.jsx)(O.a.Control,{type:"text",ref:c,required:!0})]}),Object(r.jsx)(m.a,{disabled:w,className:"w-100 text-center mt-2",type:"submit",children:"Sign up"})]})]})}),Object(r.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(r.jsx)(d.b,{to:"/login",children:"Log in"})]})]})}function y(){var e=Object(a.useRef)(),n=Object(a.useRef)(),t=Object(a.useState)(""),c=Object(h.a)(t,2),i=c[0],s=c[1],o=Object(a.useState)(!1),u=Object(h.a)(o,2),l=u[0],g=u[1],w=Object(j.f)(),y={headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}};function k(){return(k=Object(x.a)(b.a.mark((function t(r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),s(""),g(!0),t.next=5,v.a.get("".concat("","/api/users/login"),{params:{username:e.current.value,password:n.current.value},config:y}).then((function(t){if(!0===t.data){var r={username:e.current.value,password:n.current.value};w.push({pathname:"/homepage",state:{detail:r}})}else s("Failed to log in")}));case 5:g(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(r.jsx)(p.a,{style:{background:"#fff5ee"},children:Object(r.jsxs)(p.a.Body,{children:[Object(r.jsx)("h2",{className:"text-center md-4",children:"Log In"}),i&&Object(r.jsx)(f.a,{variant:"danger",children:i}),Object(r.jsxs)(O.a,{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(r.jsxs)(O.a.Group,{id:"username",children:[Object(r.jsx)(O.a.Label,{children:"User Name"}),Object(r.jsx)(O.a.Control,{type:"text",ref:e,required:!0})]}),Object(r.jsxs)(O.a.Group,{id:"password",children:[Object(r.jsx)(O.a.Label,{children:"Password"}),Object(r.jsx)(O.a.Control,{type:"password",ref:n,required:!0})]}),Object(r.jsx)(m.a,{disabled:l,className:"w-100 text-center mt-2",type:"submit",children:"Log in"})]})]})}),Object(r.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(r.jsx)(d.b,{to:"/signup",children:"Sign up"})]})]})})}var k=t(13),N=t(14);function S(){var e=Object(k.a)([""]);return S=function(){return e},e}function L(){var e=Object(k.a)(["\n  margin-right: 20px;\n"]);return L=function(){return e},e}function C(){var e=Object(k.a)(["\n  display: flex;\n  justify-content: flex-start;\n  width: 70%;\n"]);return C=function(){return e},e}function P(){var e=Object(k.a)(["\n  text-align: center;\n  font-size: 1rem;\n  color: black;\n  margin-bottom: 5px;\n  direction: ",";\n  @media screen and (max-width: 480px) {\n    font-size: 1rem;\n  }\n\n  @media screen and (max-width: 480px) {\n    font-size: 0.8rem;\n  }\n"]);return P=function(){return e},e}function z(){var e=Object(k.a)(["\n  height: 130px;\n  width: 130px;\n  margin-bottom: 10px;\n  @media screen and (max-width: 1128px) {\n    height: 110px;\n    width: 110px;\n  }\n\n  @media screen and (max-width: 490px) {\n    height: 50px;\n    width: 50px;\n  }\n"]);return z=function(){return e},e}function A(){var e=Object(k.a)(["\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  border-radius: 10px;\n  min-width: 150px;\n  height: 230px;\n  padding: 10px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  transition: all 0.2s ease-in-out;\n  direction: ",";\n\n  &:hover {\n    transform: scale(1.02);\n    transition: all 0.2s ease-in-out;\n    cursor: pointer;\n  }\n\n  @media screen and (max-width: 618px) {\n    height: 230px;\n  }\n\n  @media screen and (max-width: 490px) {\n    height: 130px;\n  }\n"]);return A=function(){return e},e}function E(){var e=Object(k.a)(["\n  justify-content: center;\n  max-width: 1500px;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n  align-items: center;\n  grid-gap: 16px;\n  padding: 0 50px;\n\n  @media screen and (max-width: 820px) {\n    grid-template-columns: 1fr 1fr;\n  }\n"]);return E=function(){return e},e}function I(){var e=Object(k.a)(["\n  text-align: center;\n  font-size: 2.2rem;\n  color: #fff;\n  margin-bottom: 35px;\n\n  @media screen and (max-width: 820px) {\n    margin-bottom: 10px;\n  }\n"]);return I=function(){return e},e}function R(){var e=Object(k.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: #dcd9c6;\n"]);return R=function(){return e},e}var T=N.a.div(R()),U=N.a.h1(I()),D=N.a.div(E()),G=N.a.div(A(),(function(e){return e.rtl?"rtl":"ltr"})),q=N.a.img(z()),F=N.a.h1(P(),(function(e){return e.rtl?"rtl":"ltr"})),M=N.a.div(C()),B=N.a.h4(L()),W=(Object(N.a)(m.a)(S()),t(119));function J(e){var n=Object(a.useState)([]),t=Object(h.a)(n,2),c=t[0],i=t[1],s=Object(a.useState)(""),o=Object(h.a)(s,2),u=o[0],d=o[1],l=Object(a.useState)(!1),p=Object(h.a)(l,2),f=p[0],O=p[1],m=Object(j.f)(),g=e.location.state.detail.username,w=e.location.state.detail.password;Object(a.useEffect)((function(){(function(){var e=Object(x.a)(b.a.mark((function e(){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://jsonplaceholder.typicode.com/photos");case 2:n=e.sent,t=n.data,i(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=c.slice(0,10).map((function(e,n){return Object(r.jsxs)(G,{children:[Object(r.jsx)(F,{children:e.title}),Object(r.jsx)(q,{src:e.url})]},n)}));return f||(function(){var e=Object(x.a)(b.a.mark((function e(){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat("","/api/users/checkrole"),{params:{username:g,password:w}});case 2:n=e.sent,t=n.data,d(t),"USER"!==t&&"ADMIN"!==t&&m.push("/login");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),O(!0)),Object(r.jsxs)(T,{children:[Object(r.jsxs)(M,{children:[Object(r.jsx)(B,{children:"".concat(g)}),Object(r.jsxs)("button",{type:"button",className:"btn btn-info",onClick:function(){"ADMIN"===u?m.push("/adminpage"):alert("You're not an admin")},children:["List of users",Object(r.jsx)(W.a,{style:{marginLeft:"10px"}})]})]}),Object(r.jsx)(U,{children:"Images "}),Object(r.jsx)(D,{children:y})]})}var Y=t(118),_=t.n(Y);function H(){var e=Object(k.a)(["\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  align-items: center;\n"]);return H=function(){return e},e}function K(){var e=Object(k.a)(["\n  margin-bottom: 35px;\n  margin-left: 10px;\n  margin-right: 10px;\n\n  font-size: 25px;\n  color: #fff;\n"]);return K=function(){return e},e}function Q(){var e=Object(k.a)(["\n  text-align: center;\n  font-size: 2.2rem;\n  color: #000000;\n  margin-bottom: 35px;\n"]);return Q=function(){return e},e}function V(){var e=Object(k.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: #dcd9c6;\n"]);return V=function(){return e},e}var X=N.a.div(V()),Z=N.a.h1(Q()),$=Object(N.a)(d.b)(K()),ee=N.a.div(H());function ne(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(X,{children:[Object(r.jsx)(Z,{children:"Welcome to Yahel's System"}),Object(r.jsxs)(ee,{children:[Object(r.jsx)($,{to:"/login",children:"Log In"}),Object(r.jsx)($,{to:"/signup",children:"Sign Up"})]}),Object(r.jsx)(_.a,{params:{particles:{number:{value:150,density:{enable:!0,value_area:800}}}}})]})})}var te=t(382);function re(){var e=Object(k.a)(["\n  text-align: center;\n  color: #a9a9a9;\n  margin-bottom: 35px;\n"]);return re=function(){return e},e}function ae(){var e=Object(k.a)(["\n  text-align: center;\n  /* font-size: 2.2rem; */\n  color: #000000;\n  margin-bottom: 35px;\n"]);return ae=function(){return e},e}function ce(){var e=Object(k.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: #e6e6fa;\n\n  @media screen and (max-width: 480px) {\n    background: #fff;\n  }\n"]);return ce=function(){return e},e}var ie=N.a.div(ce()),se=N.a.h3(ae()),oe=N.a.h3(re());function ue(){var e=Object(a.useState)([]),n=Object(h.a)(e,2),t=n[0],c=n[1];Object(a.useEffect)((function(){(function(){var e=Object(x.a)(b.a.mark((function e(){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat("","/api/admin/users"));case 2:n=e.sent,t=n.data,c(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var i=t.map((function(e,n){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:n}),Object(r.jsx)("td",{children:e.id}),Object(r.jsx)("td",{children:e.username}),Object(r.jsx)("td",{children:e.password}),Object(r.jsx)("td",{children:e.nickname}),Object(r.jsx)("td",{children:e.create_time}),Object(r.jsx)("td",{children:e.ROLE}),Object(r.jsx)("td",{children:e.status?"Connected":"Disconnected"})]},n)}));return Object(r.jsxs)(ie,{children:[Object(r.jsx)(se,{children:"Admin Page"}),Object(r.jsx)(oe,{children:"User Table"}),Object(r.jsxs)(te.a,{striped:!0,bordered:!0,hover:!0,size:"md",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"ID"}),Object(r.jsx)("th",{children:"User Name"}),Object(r.jsx)("th",{children:"Password"}),Object(r.jsx)("th",{children:"Nick Name"}),Object(r.jsx)("th",{children:"Create Time"}),Object(r.jsx)("th",{children:"Role"}),Object(r.jsx)("th",{children:"Status"})]})}),Object(r.jsx)("tbody",{children:i})]})]})}function de(){var e=Object(k.a)(['\n  height: 100%;\n  width: 100%;\n  position: fixed;\n\n  //background: no-repeat center center fixed;\n  /* background: url("../../Images/city.jpg") no-repeat left top,\n    linear-gradient(#eb01a5, #d13531); */\n  background-image: linear-gradient(\n    0deg,\n    rgba(220, 217, 198, 1) 42%,\n    rgba(210, 221, 209, 1) 93%\n  );\n  background-repeat: no-repeat;\n  background-size: cover;\n']);return de=function(){return e},e}var je=N.a.div(de());var le=function(){return Object(r.jsx)(je,{children:Object(r.jsx)(u.a,{className:"d-flex align-items-center justify-content-center",style:{height:"100%",width:"100%"},children:Object(r.jsx)(d.a,{children:Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{exact:!0,path:"/",render:function(e){return Object(r.jsx)(ne,Object(o.a)({},e))}}),Object(r.jsx)(j.a,{exact:!0,path:"/login",render:function(e){return Object(r.jsx)(y,Object(o.a)({},e))}}),Object(r.jsx)(j.a,{exact:!0,path:"/signup",render:function(e){return Object(r.jsx)(w,Object(o.a)({},e))}}),Object(r.jsx)(j.a,{exact:!0,path:"/homepage",render:function(e){return Object(r.jsx)(J,Object(o.a)({},e))}}),Object(r.jsx)(j.a,{exact:!0,path:"/adminpage",render:function(e){return Object(r.jsx)(ue,Object(o.a)({},e))}})]})})})})};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(d.a,{children:Object(r.jsx)(j.a,{path:"/",render:le})})}),document.getElementById("root"))}},[[379,1,2]]]);
//# sourceMappingURL=main.95f0e732.chunk.js.map